# Building your app for production

Вы создали отличное приложение с помощью React Native, и теперь вам не терпится выпустить его в App Store. Процесс такой же, как и в любом другом родном приложении для iOS, с некоторыми дополнительными соображениями, которые необходимо учитывать.

## 1. Enable App Transport Security

Безопасность транспорта приложений - это функция безопасности, представленная в iOS 9, которая отклоняет все HTTP-запросы, которые не отправляются через HTTPS. Это может привести к блокировке HTTP-трафика, включая сервер React Native для разработчиков. ATS отключен для localhost по умолчанию в проектах React Native, чтобы упростить разработку.

Вам следует повторно включить ATS перед созданием приложения для производства, удалив запись localhost из словаря NSExceptionDomains и установив для NSAllowsArbitraryLoads значение false в файле Info.plist в папке ios /. Вы также можете повторно включить ATS из Xcode, открыв целевые свойства на панели «Информация» и отредактировав запись «Параметры безопасности транспорта приложений».

> Если вашему приложению требуется доступ к HTTP-ресурсам в производственной среде, прочтите этот пост, чтобы узнать, как настроить ATS в своем проекте.


## 2. Configure release scheme

Для создания приложения для распространения в App Store необходимо использовать схему выпуска в Xcode. Приложения, созданные для выпуска, автоматически отключат меню разработчика в приложении, что предотвратит случайный доступ пользователей к меню в рабочей среде. Он также будет связывать JavaScript локально, поэтому вы можете установить приложение на устройство и протестировать его, не подключаясь к компьютеру.

Чтобы настроить приложение для создания с использованием схемы выпуска, перейдите в раздел Продукт → Схема → Изменить схему. Выберите вкладку «Выполнить» на боковой панели, затем установите для раскрывающегося списка «Конфигурация сборки» значение «Выпуск».

###Pro Tips

1. По мере увеличения размера пакета приложений вы можете начать видеть мигание пустого экрана между экраном-заставкой и отображением представления корневого приложения. В этом случае вы можете добавить следующий код в AppDelegate.m, чтобы заставка отображалась во время перехода. <br> ..

2. Статический пакет создается каждый раз, когда вы нацеливаетесь на физическое устройство, даже в отладке. Если вы хотите сэкономить время, отключите создание пакетов в Debug, добавив следующее в сценарий оболочки в коде Xcode Build Phase Bundle React Native и изображениях:

## 3. Build app for release

Теперь вы можете создать свое приложение для выпуска, нажав ⌘B или выбрав Продукт → Сборка в строке меню. После создания для выпуска вы сможете распространить приложение среди бета-тестеров и отправить приложение в App Store.

> Вы также можете использовать интерфейс командной строки React Native для выполнения этой операции, используя параметр --configuration со значением Release (например, npx react-native run-ios --configuration Release).